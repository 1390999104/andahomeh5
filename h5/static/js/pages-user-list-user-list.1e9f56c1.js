(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-list-user-list"],{"19f7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i={name:"UniBadge",props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},text:{type:[String,Number],default:""},size:{type:String,default:"small"}},data:function(){return{badgeStyle:""}},watch:{text:function(){this.setStyle()}},mounted:function(){this.setStyle()},methods:{setStyle:function(){this.badgeStyle="width: ".concat(8*String(this.text).length+12,"px")},onClick:function(){this.$emit("click")}}};e.default=i},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),r=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},"26a1":function(t,e,n){var i=n("4355");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("0670227e",i,!0,{sourceMap:!1,shadowMode:!1})},"2b15":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var r=i(n("5c89")),a={components:{uniBadge:r.default},props:{item:Object,index:Number}};e.default=a},"2ba6":function(t,e,n){"use strict";var i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.text?n("v-uni-view",{staticClass:"uni-badge",class:t.inverted?"uni-badge--"+t.type+" uni-badge--"+t.size+" uni-badge--"+t.type+"-inverted":"uni-badge--"+t.type+" uni-badge--"+t.size,style:t.badgeStyle,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick()}}},[t._t("default"),t._v(t._s(t.text))],2):t._e()},a=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"2ec0":function(t,e,n){"use strict";n.r(e);var i=n("3c16"),r=n("f941");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o,u=n("f0c5"),c=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"6772f926",null,!1,i["a"],o);e["default"]=c.exports},3702:function(t,e,n){var i=n("481b"),r=n("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},"3c16":function(t,e,n){"use strict";var i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"flex"},[n("v-uni-text",{staticStyle:{"font-size":"30rpx",color:"#9d9d9c"}},[t._v(t._s(t.loadmore))])],1)],1)},a=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"40c3":function(t,e,n){var i=n("6b4c"),r=n("5168")("toStringTag"),a="Arguments"==i(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),r))?n:a?i(e):"Object"==(u=i(e))&&"function"==typeof e.callee?"Arguments":u}},4355:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-badge[data-v-e3b32a96]{\n\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:20px;line-height:20px;color:#333;border-radius:100px;background-color:#f1f1f1;background-color:initial;text-align:center;font-family:Helvetica Neue,Helvetica,sans-serif;font-size:12px;padding:0 6px}.uni-badge--inverted[data-v-e3b32a96]{padding:0 5px 0 0;color:#f1f1f1}.uni-badge--default[data-v-e3b32a96]{color:#333;background-color:#f1f1f1}.uni-badge--default-inverted[data-v-e3b32a96]{color:#999;background-color:initial}.uni-badge--primary[data-v-e3b32a96]{color:#fff;background-color:#007aff}.uni-badge--main-color[data-v-e3b32a96]{color:#fff;background-color:#16c2c2}.uni-badge--primary-inverted[data-v-e3b32a96]{color:#007aff;background-color:initial}.uni-badge--success[data-v-e3b32a96]{color:#fff;background-color:#4cd964}.uni-badge--success-inverted[data-v-e3b32a96]{color:#4cd964;background-color:initial}.uni-badge--warning[data-v-e3b32a96]{color:#fff;background-color:#f0ad4e}.uni-badge--warning-inverted[data-v-e3b32a96]{color:#f0ad4e;background-color:initial}.uni-badge--error[data-v-e3b32a96]{color:#fff;background-color:#dd524d}.uni-badge--error-inverted[data-v-e3b32a96]{color:#dd524d;background-color:initial}.uni-badge--small[data-v-e3b32a96]{-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:center center;transform-origin:center center}",""]),t.exports=e},"4a66":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["loadmore"],data:function(){return{}}};e.default=i},"4ee1":function(t,e,n){var i=n("5168")("iterator"),r=!1;try{var a=[7][i]();a["return"]=function(){r=!0},Array.from(a,(function(){throw 2}))}catch(o){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a=[7],u=a[i]();u.next=function(){return{done:n=!0}},a[i]=function(){return u},t(a)}catch(o){}return n}},"549b":function(t,e,n){"use strict";var i=n("d864"),r=n("63b6"),a=n("241e"),o=n("b0dc"),u=n("3702"),c=n("b447"),s=n("20fd"),f=n("7cd6");r(r.S+r.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,l,d=a(t),v="function"==typeof this?this:Array,b=arguments.length,g=b>1?arguments[1]:void 0,h=void 0!==g,p=0,m=f(d);if(h&&(g=i(g,b>2?arguments[2]:void 0,2)),void 0==m||v==Array&&u(m))for(e=c(d.length),n=new v(e);e>p;p++)s(n,p,h?g(d[p],p):d[p]);else for(l=m.call(d),n=new v;!(r=l.next()).done;p++)s(n,p,h?o(l,g,[r.value,p],!0):r.value);return n.length=p,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"5b37":function(t,e,n){"use strict";var i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"pd-2 flex justify-start border-bottom ",attrs:{"hover-class":"bg-light"}},[n("v-uni-image",{staticClass:"rounded-circle",staticStyle:{width:"80rpx",height:"80rpx"},attrs:{src:t.item.avtar,mode:""}}),n("v-uni-view",{staticClass:" flex-column flex-1 ml-20",staticStyle:{display:"flex"}},[n("v-uni-text",{staticClass:"font text-black"},[t._v(t._s(t.item.username))]),n("uni-badge",{attrs:{type:1==t.item.sex?"error":"main-color",text:t.item.age,size:"small"}},[t.item.sex>0?n("v-uni-text",{staticClass:"iconfont text-white font-sm",staticStyle:{"margin-right":"5rpx"}},[t._v(t._s(1==t.item.sex?"":""))]):t._e(),n("v-uni-text")],1)],1),n("v-uni-view",{staticClass:"uni-icon uni-icon-checkbox-filled ",class:t.item.isFollow?"font-color":"text-light-muted"})],1)},a=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"5c89":function(t,e,n){"use strict";n.r(e);var i=n("2ba6"),r=n("c8b8");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("def9");var o,u=n("f0c5"),c=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"e3b32a96",null,!1,i["a"],o);e["default"]=c.exports},"653e":function(t,e,n){"use strict";n.r(e);var i=n("5b37"),r=n("bbd6");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o,u=n("f0c5"),c=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"102da36a",null,!1,i["a"],o);e["default"]=c.exports},"6da5":function(t,e,n){"use strict";n.r(e);var i=n("fe25"),r=n("9509");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o,u=n("f0c5"),c=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"5801f6db",null,!1,i["a"],o);e["default"]=c.exports},"75fc":function(t,e,n){"use strict";n.r(e);var i=n("a745"),r=n.n(i);function a(t){if(r()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var o=n("774e"),u=n.n(o),c=n("c8bb"),s=n.n(c);function f(t){if(s()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return u()(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return a(t)||f(t)||l()}n.d(e,"default",(function(){return d}))},"774e":function(t,e,n){t.exports=n("d2d5")},"7cd6":function(t,e,n){var i=n("40c3"),r=n("5168")("iterator"),a=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[i(t)]}},"86af":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("75fc")),a=i(n("ce23")),o=i(n("2ec0")),u=i(n("12d1")),c=i(n("653e")),s={components:{loadMore:o.default,noThing:u.default,userList:c.default,uniNavBar:a.default},data:function(){return{listHeight:600,tabIndex:0,page:1,newsList:[],tabList:[{type:"互关",num:0,key:"Friends"},{type:"关注",num:0,key:"Follows"},{type:"粉丝",num:0,key:"Fens"}]}},onNavigationBarSearchInputClicked:function(){uni.navigateTo({url:"../search/search?type=user"})},onNavigationBarButtonTap:function(){uni.navigateBack({delta:1})},onLoad:function(){var t=this;uni.getSystemInfo({success:function(e){t.listHeight=e.windowHeight-uni.upx2px(100)}}),this.getListData()},filters:{formatNum:function(t){return t>99?"99+":t}},methods:{clickRight:function(){uni.navigateBack({delta:1})},openSearch:function(){uni.navigateTo({url:"../search/search?type=user"})},getCount:function(){var t=this;this.request.getusercounts(this.user.id,{token:!0,notoast:!0}).then((function(e){t.tabList[0].num=e.data.friend_count,t.tabList[1].num=e.data.withfollow_count,t.tabList[2].num=e.data.withfen_count}))},changeTab:function(t){this.tabIndex=t},onChangeTab:function(t){this.changeTab(t.detail.current),this.newsList[t.detail.current].firstLoad||this.getList()},getListData:function(){for(var t=[],e=0;e<this.tabList.length;e++){var n={loadmore:"上拉加载更多",list:[],page:1,firstLoad:!1};t.push(n)}this.newsList=t,this.tabList.length>0&&this.getList()},getList:function(){var t=this,e=this.tabIndex,n=(this.tabList[e].id,this.newsList[e].page),i=1===n,a="get"+this.tabList[e].key+"List";console.log(a),this.request[a](n,{token:!0,nocheck:!0}).then((function(n){console.log(n);var a=n.data.list.map((function(t){return{id:t.id,avtar:t.userpic,username:t.username,sex:t.userinfo.sex,age:t.userinfo.age,isFollow:2!==e}}));t.newsList[e].list=i?a:[].concat((0,r.default)(t.newsList[e].list),(0,r.default)(a)),t.newsList[e].loadmore=a.length<10?"没有更多了":"上拉加载更多",i&&(t.newsList[e].firstLoad=!0)})).catch((function(n){i||t.newsList[e].page--}))},loadmore:function(t){var e=this.newsList[t];"上拉加载更多"===e.loadmore&&(e.loadmore="加载中...",e.page++,this.getList())}}};e.default=s},9509:function(t,e,n){"use strict";n.r(e);var i=n("86af"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"95d5":function(t,e,n){var i=n("40c3"),r=n("5168")("iterator"),a=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||a.hasOwnProperty(i(e))}},a745:function(t,e,n){t.exports=n("f410")},b0dc:function(t,e,n){var i=n("e4ae");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&i(a.call(t)),o}}},bbd6:function(t,e,n){"use strict";n.r(e);var i=n("2b15"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},c8b8:function(t,e,n){"use strict";n.r(e);var i=n("19f7"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},def9:function(t,e,n){"use strict";var i=n("26a1"),r=n.n(i);r.a},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f941:function(t,e,n){"use strict";n.r(e);var i=n("4a66"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},fe25:function(t,e,n){"use strict";var i={"user-list":n("653e").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-nav-bar",{attrs:{shadow:!1,border:!1},on:{"click-right":function(e){arguments[0]=e=t.$handleEvent(e),t.clickRight.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{width:"100%",display:"flex","justify-content":"center","align-items":"center","border-radius":"4px","margin-left":"-120upx",height:"60upx","margin-top":"12upx",color:"#CCCCCC",background:"#F7F7F7"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSearch.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"iconfont icon-sousuo",staticStyle:{"margin-right":"6upx"}}),t._v("搜索用户")],1),n("template",{attrs:{slot:"right"},slot:"right"},[n("v-uni-view",[t._v("取消")])],1)],2),n("v-uni-view",{staticClass:"flex",staticStyle:{height:"100rpx"}},t._l(t.tabList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"flex-1 flex font-md",class:t.tabIndex==i?"font-color font-lg font-weight-bold":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[t._v(t._s(e.type)),n("v-uni-text",{staticClass:"font ml-20"},[t._v(t._s(t._f("formatNum")(e.num>0?e.num:"")))])],1)})),1),n("v-uni-swiper",{style:"height:"+t.listHeight+"px",attrs:{duration:150,current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeTab.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,i){return n("v-uni-swiper-item",{key:i},[n("v-uni-scroll-view",{style:"height:"+t.listHeight+"px",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore(i)}}},[e.list.length>0?[t._l(e.list,(function(t,e){return[n("user-list",{key:e+"_0",attrs:{item:t,index:e}})]})),e.list.length>10?n("load-more",{attrs:{loadmore:e.loadmore}}):t._e()]:[n("no-thing")]],2)],1)})),1)],1)},a=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))}}]);