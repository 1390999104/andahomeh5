(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0120":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-scroll-view",{staticClass:"scroll-row",staticStyle:{height:"100rpx"},attrs:{"scroll-x":"true","enable-flex":!0,"scroll-with-animation":!0,"scroll-into-view":t.scrollInto}},t._l(t.tabBar,(function(e,i){return n("v-uni-view",{key:i,staticClass:"scroll-row-item header",class:t.tabIndex==i?"activeTab":"",attrs:{id:"tab"+i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[t._v(t._s(e.classname))])})),1),n("v-uni-view",{staticStyle:{height:"5rpx","background-color":"#f5f5f4"}}),n("v-uni-swiper",{style:"height:"+t.listHeight+"px",attrs:{duration:150,current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeTab.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,i){return n("v-uni-swiper-item",{key:i},[n("v-uni-scroll-view",{style:"height:"+t.listHeight+"px",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore(i)}}},[e.list.length>0?[t._l(e.list,(function(e,i){return[n("common-list",{key:i+"_0",attrs:{item:e,index:i},on:{follow:function(e){arguments[0]=e=t.$handleEvent(e),t.follow.apply(void 0,arguments)},doSupport:function(e){arguments[0]=e=t.$handleEvent(e),t.doSupport.apply(void 0,arguments)}}}),n("divider")]})),n("loadmore",{attrs:{loadmore:e.loadmore}})]:e.firstLoad?[n("v-uni-view",{staticClass:"flex flex-column"},[t._v("什么都没有....")])]:[n("v-uni-view",{staticClass:"text-light-muted flex font-md",staticStyle:{height:"200rpx"}},[t._v("加载中...")])]],2)],1)})),1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"0542":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"content animated fast fadeIn"},[n("v-uni-view",{staticClass:"article_info"},[n("v-uni-view",{staticClass:"ueser pd-2"},[n("v-uni-view",{staticClass:"ueser_left flex"},[n("v-uni-view",{staticClass:"user_image"},[n("v-uni-image",{staticClass:"image",attrs:{src:t.item.userpic,mode:"","lazy-load":!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSpace(t.item.user_id)}}}),n("v-uni-view",{staticClass:"user_mess"},[n("v-uni-text",{staticStyle:{"font-size":"28rpx","line-height":"1.5"}},[t._v(t._s(t.item.username?t.item.username:""))]),n("v-uni-text",{staticStyle:{color:"#9d9589","font-size":"20rpx","line-height":"1.5"}},[t._v(t._s(t._f("formatTime")(t.item.newstime)))])],1)],1)],1),n("v-uni-view",{staticClass:"ueser_right"},[0!==t.user.role&&t.loginStatus?n("v-uni-text",{staticClass:"button animated faster my-10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deletePost(t.item.id)}}},[t._v("删除")]):t._e(),t.item.isFollow||t.user.id===t.item.user_id?t._e():n("v-uni-view",{staticClass:"button animated faster",attrs:{"hover-class":"jello"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow.apply(void 0,arguments)}}},[t._v(t._s(t.item.isFollow?"已关注":"关注"))])],1)],1),n("v-uni-view",{staticClass:"article_title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[n("v-uni-text",{staticStyle:{"font-size":"30rpx"}},[t._v(t._s(t.item.title))])],1),t._t("default",[t.item.titlepic?n("v-uni-view",{staticClass:"article_image",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[n("v-uni-image",{staticStyle:{width:"100%",height:"350rpx"},attrs:{src:t.item.titlepic,mode:"aspectFit"}})],1):t._e()]),n("v-uni-view",{staticClass:"article_details"},[n("v-uni-view",{staticClass:"flex animated faster",class:"support"==t.item.support.type?"active":"",staticStyle:{flex:"1"},attrs:{"hover-class":"jello font-color"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSupport("support")}}},[n("v-uni-text",{staticClass:" iconfont"},[t._v("")]),n("v-uni-text",[t._v(t._s(t.item.support.support_count>0?t.item.support.support_count:"点赞"))])],1),n("v-uni-view",{staticClass:"flex  animated faster",class:"unsupport"==t.item.support.type?"active":"",staticStyle:{flex:"1"},attrs:{"hover-class":"jello font-color"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSupport("unsupport")}}},[n("v-uni-text",{staticClass:" iconfont"},[t._v("")]),n("v-uni-text",[t._v(t._s(t.item.support.unsupport_count>0?t.item.support.unsupport_count:"点灭"))])],1),n("v-uni-view",{staticClass:"flex  animated faster",staticStyle:{flex:"1"},attrs:{"hover-class":"jello font-color"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doComment.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:" iconfont"},[t._v("")]),n("v-uni-text",[t._v(t._s(t.item.comment_count>0?t.item.comment_count:"评论"))])],1),n("v-uni-view",{staticClass:"flex animated faster",staticStyle:{flex:"1"},attrs:{"hover-class":"jello font-color"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doShare.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:" iconfont"},[t._v("")]),n("v-uni-text",[t._v(t._s(t.item.share_num>0?t.item.share_num:"分享"))])],1)],1)],2)],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"0bcd":function(t,e,n){var i=n("4619");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("20260275",i,!0,{sourceMap:!1,shadowMode:!1})},"0be7":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-navbar"},[n("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":t.fixed,"uni-navbar--shadow":t.shadow,"uni-navbar--border":t.border},staticStyle:{"z-index":"9999"},style:{"background-color":t.backgroundColor}},[n("v-uni-view",{staticClass:"uni-navbar__header uni-navbar__content_view",style:{color:t.color,backgroundColor:t.backgroundColor}},[n("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__header-btns-left uni-navbar__content_view",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickLeft.apply(void 0,arguments)}}},[t.leftIcon.length?n("v-uni-view",{staticClass:"uni-navbar__content_view"},[n("uni-icons",{attrs:{color:t.color,type:t.leftIcon,size:"24"}})],1):t._e(),t.leftText.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text uni-navbar__content_view",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[n("v-uni-text",{style:{color:t.color,fontSize:"14px"}},[t._v(t._s(t.leftText))])],1):t._e(),t._t("left")],2),n("v-uni-view",{staticClass:"uni-navbar__header-container uni-navbar__content_view"},[t.title.length?n("v-uni-view",{staticClass:"uni-navbar__header-container-inner uni-navbar__content_view"},[n("v-uni-text",{staticClass:"uni-nav-bar-text",style:{color:t.color}},[t._v(t._s(t.title))])],1):t._e(),t._t("default")],2),n("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__content_view",class:t.title.length?"uni-navbar__header-btns-right":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickRight.apply(void 0,arguments)}}},[t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar__content_view"},[n("uni-icons",{attrs:{color:t.color,type:t.rightIcon,size:"24"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text uni-navbar__content_view"},[n("v-uni-text",{staticClass:"uni-nav-bar-right-text"},[t._v(t._s(t.rightText))])],1):t._e(),t._t("right")],2)],1)],1),t.fixed?n("v-uni-view",{staticClass:"uni-navbar__placeholder"},[n("v-uni-view",{staticClass:"uni-navbar__placeholder-view"})],1):t._e()],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},2019:function(t,e,n){"use strict";n.r(e);var i=n("0120"),a=n("d4c3");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("407c");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0841efbd",null,!1,i["a"],r);e["default"]=c.exports},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),a=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,a(0,n)):t[e]=n}},"2ec0":function(t,e,n){"use strict";n.r(e);var i=n("3c16"),a=n("f941");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"6772f926",null,!1,i["a"],r);e["default"]=c.exports},3175:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},3702:function(t,e,n){var i=n("481b"),a=n("5168")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[a]===t)}},3850:function(t,e,n){var i=n("4112");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("2ee3508c",i,!0,{sourceMap:!1,shadowMode:!1})},"3c16":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"flex"},[n("v-uni-text",{staticStyle:{"font-size":"30rpx",color:"#9d9d9c"}},[t._v(t._s(t.loadmore))])],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"407c":function(t,e,n){"use strict";var i=n("9817"),a=n.n(i);a.a},"40c3":function(t,e,n){var i=n("6b4c"),a=n("5168")("toStringTag"),o="Arguments"==i(function(){return arguments}()),r=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=r(e=Object(t),a))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},4112:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-nav-bar-text[data-v-92212382]{\n\t\t\n\t\tfont-size:%?32?%\n\t\t}.uni-nav-bar-right-text[data-v-92212382]{font-size:%?28?%}.uni-navbar__content[data-v-92212382]{width:100%;position:relative;background-color:#fff;overflow:hidden}.uni-navbar__content_view[data-v-92212382]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t\t-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row\n\t\t/* background-color: #FFFFFF;\n */}.uni-navbar__header[data-v-92212382]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t\t/* width: 100%; */\n\t\t-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:44px;line-height:44px;font-size:16px\n\t\t/* background-color: #ffffff;\n */}.uni-navbar__header-btns[data-v-92212382]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t\t-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:%?120?%;padding:0 6px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-btns-left[data-v-92212382]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t\twidth:%?150?%;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.uni-navbar__header-btns-right[data-v-92212382]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t\twidth:%?150?%;padding-right:%?30?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.uni-navbar__header-container[data-v-92212382]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.uni-navbar__header-container-inner[data-v-92212382]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t\t-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%}.uni-navbar__placeholder-view[data-v-92212382]{height:44px}.uni-navbar--fixed[data-v-92212382]{position:fixed;z-index:998}.uni-navbar--shadow[data-v-92212382]{\n\t\tbox-shadow:0 1px 6px #ccc\n\t\t}.uni-navbar--border[data-v-92212382]{border-bottom-width:%?1?%;border-bottom-style:solid;border-bottom-color:#e5e5e5}",""]),t.exports=e},4619:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".ueser[data-v-7f5b8bf1]{\n\t\t/* padding: 20rpx; */display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ueser_right[data-v-7f5b8bf1]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.user_mess[data-v-7f5b8bf1]{\n\t\t/* padding: 10rpx; */display:-webkit-box;display:-webkit-flex;display:flex;padding-left:%?20?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.user_image[data-v-7f5b8bf1]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.image[data-v-7f5b8bf1]{width:%?65?%;height:%?65?%;border-radius:100%}.button[data-v-7f5b8bf1]{width:%?90?%;height:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;border-radius:10%;background-color:#16c2c2;color:#fff;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.article_title[data-v-7f5b8bf1]{padding:0 %?20?%}.article_details[data-v-7f5b8bf1]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.iconfont[data-v-7f5b8bf1]{margin-right:%?20?%;font-size:%?30?%}.active[data-v-7f5b8bf1]{color:#16c2c2}",""]),t.exports=e},"4a66":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["loadmore"],data:function(){return{}}};e.default=i},"4ee1":function(t,e,n){var i=n("5168")("iterator"),a=!1;try{var o=[7][i]();o["return"]=function(){a=!0},Array.from(o,(function(){throw 2}))}catch(r){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(r){}return n}},"549b":function(t,e,n){"use strict";var i=n("d864"),a=n("63b6"),o=n("241e"),r=n("b0dc"),s=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");a(a.S+a.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,a,f,d=o(t),p="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,h=void 0!==b,w=0,x=l(d);if(h&&(b=i(b,v>2?arguments[2]:void 0,2)),void 0==x||p==Array&&s(x))for(e=c(d.length),n=new p(e);e>w;w++)u(n,w,h?b(d[w],w):d[w]);else for(f=x.call(d),n=new p;!(a=f.next()).done;w++)u(n,w,h?r(f,b,[a.value,w],!0):a.value);return n.length=w,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},6281:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("9ede")),o=i(n("9c6e")),r={name:"UniNavBar",components:{uniStatusBar:a.default,uniIcons:o.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0}},mounted:function(){uni.report&&""!==this.title&&uni.report("title",this.title)},methods:{onClickLeft:function(){this.$emit("clickLeft")},onClickRight:function(){this.$emit("clickRight")}}};e.default=r},"6cd6":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("8e6e"),n("ac6a"),n("456d"),n("20d6");var a=i(n("bd86"));n("c5f6");var o=i(n("7e22")),r=(i(n("e43a")),n("2f62"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={props:{item:Object,index:{type:Number,default:-1},isdetail:{type:Boolean,default:!1}},computed:c({},(0,r.mapState)({user:function(t){return t.user},loginStatus:function(t){return t.loginStatus}})),filters:{formatTime:function(t){return o.default.gettime.gettime(t)}},data:function(){return{readNum:0}},mounted:function(){},methods:{openSpace:function(t){uni.navigateTo({url:"/pages/user-space/user-space?user_id="+t})},follow:function(){var t=this;this.checkAuth((function(){console.log(t.item),t.request.userfollow({follow_id:t.item.user_id},{token:!0}).then((function(e){uni.$emit("updateFollowOrSupport",{type:"follow",data:{user_id:t.item.user_id}})}))}))},openDetail:function(){var t=this;if(console.log("进入详情页"),!this.isdetail){uni.navigateTo({url:"/pages/article-detail/article-detail?detail="+JSON.stringify(this.item)});var e=uni.getStorageSync("history");e=e?JSON.parse(e):[];var n=e.findIndex((function(e){return e.id==t.item.id}));-1==n&&(e.unshift(this.item),uni.setStorageSync("history",JSON.stringify(e)))}},doSupport:function(t){var e=this;this.checkAuth((function(){var n={post_id:e.item.id,type:"support"===t?0:1};e.request.userSupport(n,{token:!0}).then((function(n){if(console.log(e.item),n.errorCode)return uni.showToast({title:n.msg,icon:"none"});uni.$emit("updateFollowOrSupport",{type:"support",data:{type:t,id:e.item.id}})}))}))},openCommentPage:function(){},deletePost:function(t){var e=this;t&&uni.showModal({title:"提示",content:"你确定要删除此帖子吗？",success:function(n){n.confirm&&e.request.deletePost({id:t}).then((function(e){"删除成功"==e.msg&&(uni.showToast({title:"删除成功",icon:"none"}),uni.$emit("updatedeletePost",{type:"follow",data:{id:t}}))}))}})},doComment:function(){var t=this;this.checkAuth((function(){if(!t.isdetail)return t.openDetail();t.$emit("doComment")}))},doShare:function(){var t=this;this.checkAuth((function(){if(!t.isdetail)return t.openDetail();t.$emit("doShare")}))}}};e.default=u},7298:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("75fc"));n("ac6a");var o=i(n("ce23")),r=i(n("77f7")),s=i(n("2ec0")),c={components:{commonList:r.default,uniNavBar:o.default,loadmore:s.default},data:function(){return{listHeight:600,tabIndex:0,scrollInto:"",tabBar:[],newsList:[]}},onNavigationBarSearchInputClicked:function(){uni.navigateTo({url:"../search/search?type=post"})},onNavigationBarButtonTap:function(){this.navigateTo({url:"../add-input/add-input"})},onLoad:function(){var t=this;uni.getSystemInfo({success:function(e){t.listHeight=e.windowHeight-uni.upx2px(105),t.listHeight=e.windowHeight-uni.upx2px(193)}}),uni.$on("updateIndex",(function(e){t.getListData()})),uni.$on("updatedeletePost",(function(e){t.getListData()})),this.getListData(),uni.$on("updateFollowOrSupport",(function(e){switch(e.type){case"follow":t.follow(e.data.user_id);break;case"support":t.doSupport(e.data);break}})),uni.$on("updateCommentsCount",(function(e){var n=e.id,i=e.count;t.newsList.forEach((function(t){t.list.forEach((function(t){t.id==n&&(t.comment_count=i)}))}))}))},onUnload:function(){uni.$off("updateFollowOrSupport",(function(t){})),uni.$off("updateIndex",(function(t){})),uni.$off("updateCommentsCount",(function(t){})),uni.$off("updatedeletePost",(function(t){}))},methods:{clickRight:function(){this.navigateTo({url:"../add-input/add-input"})},openSearch:function(){uni.navigateTo({url:"../search/search?type=post"})},follow:function(t){this.newsList.forEach((function(e){e.list.forEach((function(e){e.user_id==t&&(e.isFollow=!0)}))})),uni.showToast({title:"关注成功！"})},doSupport:function(t){this.newsList[this.tabIndex].list.forEach((function(e){if(e.id==t.id){if(console.log(e),""===e.support.type)return e.support.type=t.type,void e.support[t.type+"_count"]++;"support"===e.support.type&&"unsupport"===t.type?(e.support.support_count--,e.support.unsupport_count++):"unsupport"===e.support.type&&"support"===t.type&&(e.support.support_count++,e.support.unsupport_count--),e.support.type=t.type}})),"support"==t.type?uni.showToast({title:"👍1",icon:"none"}):uni.showToast({title:"👎1",icon:"none"})},changeTab:function(t){this.tabIndex!=t&&(this.tabIndex=t,this.scrollInto="tab"+t,this.newsList[t].firstLoad||this.getList())},onChangeTab:function(t){console.log(t.detail.current),this.changeTab(t.detail.current)},getListData:function(){var t=this;this.request.getArticleList().then((function(e){t.tabBar=e.data.list;for(var n=[],i=0;i<t.tabBar.length;i++)n.push({loadmore:"上拉加载更多",list:[],page:1,firstLoad:!1});t.newsList=n,t.tabBar.length>0&&t.getList()}))},getList:function(){var t=this,e=this.tabIndex,n=this.tabBar[e].id,i=this.newsList[e].page,o=1===i;this.request.getArticleByClassId(n,i,{},{token:!0,nocheck:!0}).then((function(n){var i=n.data.list.map((function(e){return t.until.formatCommonList(e)}));t.newsList[e].list=o?i:[].concat((0,a.default)(t.newsList[e].list),(0,a.default)(i)),t.newsList[e].loadmore=i.length<10?"没有更多了":"上拉加载更多",o&&(t.newsList[e].firstLoad=!0)})).catch((function(n){o||t.newsList[e].page--}))},loadmore:function(t){var e=this.newsList[t];"上拉加载更多"===e.loadmore&&(e.loadmore="加载中...",e.page++,this.getList())}}};e.default=c},7454:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-status-bar[data-v-80a557fa]{width:%?750?%;height:20px\n\t\t/* height: var(--status-bar-height);\n */}",""]),t.exports=e},"75fc":function(t,e,n){"use strict";n.r(e);var i=n("a745"),a=n.n(i);function o(t){if(a()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var r=n("774e"),s=n.n(r),c=n("c8bb"),u=n.n(c);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return o(t)||l(t)||f()}n.d(e,"default",(function(){return d}))},"774e":function(t,e,n){t.exports=n("d2d5")},"77f7":function(t,e,n){"use strict";n.r(e);var i=n("0542"),a=n("a368");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("bcc7");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7f5b8bf1",null,!1,i["a"],r);e["default"]=c.exports},"7cd6":function(t,e,n){var i=n("40c3"),a=n("5168")("iterator"),o=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||o[i(t)]}},"95d5":function(t,e,n){var i=n("40c3"),a=n("5168")("iterator"),o=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||o.hasOwnProperty(i(e))}},9817:function(t,e,n){var i=n("dd1d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("69f5a106",i,!0,{sourceMap:!1,shadowMode:!1})},"9ede":function(t,e,n){"use strict";n.r(e);var i=n("3175"),a=n("c1e5");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("a49f");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"80a557fa",null,!1,i["a"],r);e["default"]=c.exports},a368:function(t,e,n){"use strict";n.r(e);var i=n("6cd6"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},a49f:function(t,e,n){"use strict";var i=n("e05e"),a=n.n(i);a.a},a745:function(t,e,n){t.exports=n("f410")},b0dc:function(t,e,n){var i=n("e4ae");t.exports=function(t,e,n,a){try{return a?e(i(n)[0],n[1]):e(n)}catch(r){var o=t["return"];throw void 0!==o&&i(o.call(t)),r}}},bcc7:function(t,e,n){"use strict";var i=n("0bcd"),a=n.n(i);a.a},c1e5:function(t,e,n){"use strict";n.r(e);var i=n("f8a8"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},c2fd:function(t,e,n){"use strict";n.r(e);var i=n("6281"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},c8bb:function(t,e,n){t.exports=n("54a1")},ce23:function(t,e,n){"use strict";n.r(e);var i=n("0be7"),a=n("c2fd");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("f497");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"92212382",null,!1,i["a"],r);e["default"]=c.exports},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d4c3:function(t,e,n){"use strict";n.r(e);var i=n("7298"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},dd1d:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".header[data-v-0841efbd]{font-size:%?30?%;padding:%?20?%}.activeTab[data-v-0841efbd]{color:#16c2c2;font-size:%?40?%;font-weight:700}\n\n\t/* .scroll-row{\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n.scroll-row-item{\n\tdisplay: inline-block;\n} */",""]),t.exports=e},e05e:function(t,e,n){var i=n("7454");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("95d1cdae",i,!0,{sourceMap:!1,shadowMode:!1})},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f497:function(t,e,n){"use strict";var i=n("3850"),a=n.n(i);a.a},f8a8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.getSystemInfoSync().statusBarHeight+"px",a={name:"UniStatusBar",data:function(){return{statusBarHeight:i}}};e.default=a},f941:function(t,e,n){"use strict";n.r(e);var i=n("4a66"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}}]);