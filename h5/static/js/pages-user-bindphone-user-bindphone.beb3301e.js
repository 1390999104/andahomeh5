(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-bindphone-user-bindphone"],{"1fe9":function(e,t,n){"use strict";n.r(t);var i=n("7c39"),o=n("5a66");for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);var a,c=n("f0c5"),u=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"6727e9ae",null,!1,i["a"],a);t["default"]=u.exports},"5a66":function(e,t,n){"use strict";n.r(t);var i=n("7b63"),o=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=o.a},"7b63":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{phone:"",phoneCode:"",codeTime:0}},computed:{disabled:function(){return""==this.phone||""==this.code}},methods:{validate:function(){var e=/^1[34578]\d{9}$/;return!!e.test(this.phone)||(uni.showToast({title:"手机号格式不正确",icon:"none"}),!1)},submit:function(){var e=this;if(this.validate()){var t={phone:this.phone,code:this.phoneCode};this.request.bindPhone(t,{token:!0}).then((function(t){e.$store.commit("editUserInfo",{key:"phone",value:e.phone}),uni.$emit("updateUserSafe",{msg:"页面更新"}),uni.navigateBack({delta:1}),uni.showToast({title:"绑定成功",icon:"none"})}))}},getCode:function(){var e=this;if(!(this.codeTime>0)&&this.validate()){console.log(this.phone),this.request.senCode({phone:this.phone}).then((function(t){if(t.msg){var n=t.msg;console.log(n.substring(4,8)),uni.showModal({title:"提示",content:t.msg,confirmText:"确定",success:function(t){t.confirm&&(e.phoneCode=n.substring(4,8))}})}})),this.codeTime=60;setInterval((function(){e.codeTime>=1?e.codeTime--:(e.codeTime=0,clearInterval())}),1e3)}}}};t.default=i},"7c39":function(e,t,n){"use strict";var i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"mb-20",staticStyle:{display:"flex","align-items":"stretch"}},[n("v-uni-view",{staticClass:"border-bottom flex font px-20"},[e._v("+86")]),n("v-uni-input",{staticClass:"border-bottom pd-2 flex-1",attrs:{type:"text",value:"",placeholder:"请输入手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),n("v-uni-view",{staticClass:"mb-20",staticStyle:{display:"flex","align-items":"stretch"}},[n("v-uni-input",{staticClass:"border-bottom pd-2 flex-1",attrs:{type:"text",value:"",placeholder:"请输入验证码"},model:{value:e.phoneCode,callback:function(t){e.phoneCode=t},expression:"phoneCode"}}),n("v-uni-view",{staticClass:"flex  text-white font-sm",class:e.codeTime>0?"bgc-main-disabled":"bgc",staticStyle:{width:"180rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v(e._s(e.codeTime>0?e.codeTime+"s":"获取验证码"))])],1),n("v-uni-view",{staticClass:"uni-input",staticStyle:{padding:"20rpx 30rpx"}},[n("v-uni-button",{staticClass:"bgc text-white",class:e.disabled?"bgc-main-disabled":"",staticStyle:{"border-radius":"50rpx"},attrs:{disabled:e.disabled,type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("绑定")])],1)],1)},s=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}))}}]);