(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"114c":function(t,e,n){"use strict";var i=n("f09e"),a=n.n(i);a.a},"165c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{back:{type:Boolean,back:!1}},beforeCreate:function(){},data:function(){return{providerList:[],phoneType:""}},mounted:function(){},onReady:function(){},methods:{getuserData:function(t){var e=this;console.log(t),uni.login({provider:t.id,success:function(n){uni.getUserInfo({provider:t.id,success:function(n){console.log(n);var i={provider:t.id,openid:n.userInfo.openid||n.userInfo.openId||n.userInfo.idstr,expires_in:0,nickName:n.userInfo.nickName,avatarUrl:n.userInfo.avatarUrl};e.loginEvent(i)}})},fail:function(){uni.showToast({title:"登录失败",icon:"none"})}})},loginEvent:function(t){var e=this;this.request.otherLogin(t).then((function(t){console.log(t),e.loading=!1,e.$store.commit("login",e.until.formatUserinfo(t.data)),"登录成功"==t.msg&&(uni.navigateBack({delta:1}),uni.showToast({title:"登录成功",icon:"none"}))}))}}};e.default=i},3175:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},s=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}))},7454:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-status-bar[data-v-80a557fa]{width:%?750?%;height:20px\n\t\t/* height: var(--status-bar-height);\n */}",""]),t.exports=e},7590:function(t,e,n){"use strict";n.r(e);var i=n("165c"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},"76a7":function(t,e,n){"use strict";n.r(e);var i=n("e531"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},9713:function(t,e,n){"use strict";n.r(e);var i=n("a313"),a=n("7590");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("114c");var o,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"43b97a4e",null,!1,i["a"],o);e["default"]=u.exports},"9ede":function(t,e,n){"use strict";n.r(e);var i=n("3175"),a=n("c1e5");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("a49f");var o,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"80a557fa",null,!1,i["a"],o);e["default"]=u.exports},a313:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view")},s=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}))},a3bf:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-status-bar"),n("v-uni-view",{staticClass:" iconfont flex font-lg position-fied top-0 left-0 font-color",staticStyle:{height:"100rpx",width:"100rpx"},style:"top:"+t.statusBarHeight+"px",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[t._v("")]),n("v-uni-view",{staticClass:"text-center font-lg",staticStyle:{"padding-top":"130rpx","padding-bottom":"70rpx"}},[t._v(t._s(t.status?"手机验证码登录":"账号密码登录"))]),n("v-uni-view",{staticClass:"px-20 py-20"},[t.status?[n("v-uni-view",{staticClass:"mb-20",staticStyle:{display:"flex","align-items":"stretch"}},[n("v-uni-view",{staticClass:"border-bottom flex font px-20"},[t._v("+86")]),n("v-uni-input",{staticClass:"border-bottom pd-2 flex-1",attrs:{type:"text",value:"",placeholder:"请输入手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"mb-20",staticStyle:{display:"flex","align-items":"stretch"}},[n("v-uni-input",{staticClass:"border-bottom pd-2 flex-1",attrs:{type:"text",value:"",placeholder:"请输入验证码"},model:{value:t.phoneCode,callback:function(e){t.phoneCode=e},expression:"phoneCode"}}),n("v-uni-view",{staticClass:"flex  text-white font-sm",class:t.codeTime>0?"bgc-main-disabled":"bgc",staticStyle:{width:"180rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.codeTime>0?t.codeTime+"s":"获取验证码"))])],1)]:[n("v-uni-view",{staticClass:"mb-20"},[n("v-uni-input",{staticClass:"border-bottom pd-2",attrs:{type:"text",value:"",placeholder:"昵称/手机号/邮箱"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("v-uni-view",{staticClass:"mb-20",staticStyle:{display:"flex","align-items":"stretch"}},[n("v-uni-input",{staticClass:"border-bottom pd-2 flex-1",attrs:{type:"text",value:"",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-uni-view",{staticClass:"flex  text-light-muted border-bottom",staticStyle:{width:"150rpx"}},[t._v("忘记密码？")])],1)]],2),n("v-uni-view",{staticStyle:{padding:"20rpx 30rpx"}},[n("v-uni-button",{staticClass:"bgc text-white",staticStyle:{"border-radius":"50rpx"},attrs:{disabled:t.disabled,type:"primary",loading:t.loading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v(t._s(t.loding?"登录中...":"登录"))])],1),n("v-uni-view",{staticClass:"flex pt-30 pb-30"},[n("v-uni-view",{staticClass:"text-primary font-sm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLogintype.apply(void 0,arguments)}}},[t._v(t._s(t.status?"账号密码登录":"验证码登录"))]),n("v-uni-text",{staticClass:"text-light-muted mx-20"},[t._v("|")]),n("v-uni-view",{staticClass:"text-primary font-sm"},[t._v("登录遇到问题")])],1),n("v-uni-view",{staticClass:"flex"},[n("v-uni-view",{staticStyle:{width:"100rpx",height:"1rpx","background-color":"#D8D8D8"}}),n("v-uni-view",{staticClass:"mx-20 text-light-muted"},[t._v("社交账号登录")]),n("v-uni-view",{staticStyle:{width:"100rpx",height:"1rpx","background-color":"#D8D8D8"}})],1),n("v-uni-view",{staticClass:"flex text-light-muted font-sm py-20"},[t._v("注册及代表同意"),n("v-uni-text",{staticClass:"text-primary"},[t._v("《xxx社区协议》")])],1)],1)},s=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}))},a49f:function(t,e,n){"use strict";var i=n("e05e"),a=n.n(i);a.a},c1e5:function(t,e,n){"use strict";n.r(e);var i=n("f8a8"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},c91a:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".comment[data-v-43b97a4e]{width:%?100?%;height:%?100?%}",""]),t.exports=e},e05e:function(t,e,n){var i=n("7454");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("95d1cdae",i,!0,{sourceMap:!1,shadowMode:!1})},e531:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("9ede")),s=i(n("9713")),o={components:{uniStatusBar:a.default,otherLogin:s.default},data:function(){return{username:"",password:"",phone:"",phoneCode:"",codeTime:0,loading:!1,statusBarHeight:0,status:!1}},onLoad:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;this.statusBarHeight=e},computed:{disabled:function(){return!(""!=this.username&&""!=this.password||""!=this.phone&&""!=this.phoneCode)}},methods:{back:function(){uni.navigateBack({delta:1})},initFrom:function(){this.username="",this.password="",this.phone="",this.phoneCode=""},changeLogintype:function(){this.initFrom(),this.status=!this.status},getCode:function(){var t=this;if(!(this.codeTime>0)&&this.validate()){console.log(this.phone),this.request.senCode({phone:this.phone}).then((function(e){if(e.msg){console.log(e.msg);var n=e.msg;console.log(n.substring(4,8)),uni.showModal({title:"提示",content:e.msg,confirmText:"确定",success:function(e){e.confirm&&(t.phoneCode=n.substring(4,8))}})}})),this.codeTime=60;setInterval((function(){t.codeTime>=1?t.codeTime--:(t.codeTime=0,clearInterval())}),1e3)}},validate:function(){var t=/^1[34578]\d{9}$/;return!!t.test(this.phone)||(uni.showToast({title:"手机号格式不正确",icon:"none"}),!1)},submit:function(){if(this.status){if(!this.validate())return;var t={phone:this.phone,code:this.phoneCode};this.userLogin(t,"phoneLogin")}else{var e={username:this.username,password:this.password};this.userLogin(e,"userLogin")}this.loading=!0},userLogin:function(t,e){var n=this;console.log(t),this.request[e](t).then((function(t){n.loading=!1,console.log(t),n.$store.commit("login",t.data),uni.navigateBack({delta:1}),uni.showModal({title:"登录成功",icon:"none"})})).catch((function(t){n.loading=!1}))}}};e.default=o},e930:function(t,e,n){"use strict";n.r(e);var i=n("a3bf"),a=n("76a7");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);var o,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"15beaf8f",null,!1,i["a"],o);e["default"]=u.exports},f09e:function(t,e,n){var i=n("c91a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("07f8ffec",i,!0,{sourceMap:!1,shadowMode:!1})},f8a8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.getSystemInfoSync().statusBarHeight+"px",a={name:"UniStatusBar",data:function(){return{statusBarHeight:i}}};e.default=a}}]);